<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title> Demo 4 </title>
<script src="../src/chunky.js"></script>
</head>

<body>
	<div id="root">
		<!-- Render All Content Here. -->
	</div>
	
	<script>
		(function() {

			/*
			Demo 4. 
			* Create a template chunk with data variables properly documented.
			* Use the .data(name) method to get the data object. Then use .doc.info(key, value) to set it's documentation object.
			*/

			// Create A Template Chunk.
			var template = new Chunk('template');
			template.doc.info('desc', 'A section header to clearly communicate the following information intended purpose.');
			template.instruct(function(chunk) {

				// Create header element.
				var header = document.createElement('h1');
				header.classList.add('template_header');
				header.innerHTML = chunk.data('title').getValue(); //Create data variable where data may be inserted into for the title.
				chunk.data('title').doc.info('desc', 'Large text to indicating what the following information is about.'); // Documentation for title.

				// Create subheader element.
				var subheader = document.createElement('span');
				subheader.classList.add('template_subheader');
				subheader.innerHTML = chunk.data('subtitle').getValue(); //Create data variable where data may be inserted into for the subtitle.
				chunk.data('subtitle').doc.info('desc', 'Smaller text to appear below the title.'); // Documentation for subtitle')

				// Create an element to contain everything for the build.
				var element = document.createElement('div');
				element.classList.add('template');
				element.appendChild(header);
				element.appendChild(subheader);

				// Return build.
				return element;
			})
			template.data('title', 'Title.');
			template.data('subtitle', 'Subtitle');


			/*
			Demo 4. 
			* Create a chunk to render the information.
			* Use the .data(name) method to get the data object. Then use .doc.info(key) to get the doc object property value.
			*/

			// Display docs.
			var demo = new Chunk('demo');
			demo.instruct(function(chunk) {

				// Create info.
				function newInfo(name, desc) {
					var inf = document.createElement('div');
					inf.innerHTML = name + ': ' + desc;
					return inf; 
				}

				//Make sure template is ready for rendering.
				template.ready();

				// Create core element to display documentation.
				var element = document.createElement('div');
				element.classList.add('demo');

				element.appendChild(newInfo('Template', template.doc.info('desc')));
				element.appendChild(newInfo('Title', template.data('title').doc.info('desc')));
				element.appendChild(newInfo('Subtitle', template.data('subtitle').doc.info('desc')));

				// Return buid;
				return element;
			})

			// Add Content To Root.
			var root = document.getElementById('root');
			root.appendChild(demo.ready());
			root.appendChild(template.ready());
		}());
	</script>
</body>

</html>